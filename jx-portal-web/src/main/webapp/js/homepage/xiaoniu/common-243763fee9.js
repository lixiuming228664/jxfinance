define("module/common/common",["../head/js/init","../rightTips/js/init","./utils","./toast"],function(t,e,n){t("../head/js/init"),t("../rightTips/js/init");var i=t("./utils"),o=t("./toast");$.util=i,$.toast=o}),define("module/head/js/init",["../../../plugIn/browserListen/init","../../../module/sso/sso-main"],function(t,e,n){function i(){var t=$("#menuCur");t.length&&l.length&&l.find(".nav[data-type="+t.val()+"]").addClass("current")}function o(){var t=$("#afficheModel");t.length&&t.on("click",".icon-common-close",function(){t.slideUp()})}function a(){var t=$("#menuModel");(t.length||c.length)&&$.ajax({url:"/crossproxy/product/able/buy/count",type:"post",success:function(e){function n(t){if(t)return"（<label>"+t+"</label>）"}var e=(e||{}).data||{},i=(e.smartCount||0,e.currentCount||0),o=e.weekFlexCount||0,a=e.monthFlexCount||0,s=e.doubleMonthFlexCount||0,l=e.quarterFlexCount||0,d=e.yearFlexCount||0,u=e.weekFlexTotalCount||0,f=e.monthFlexTotalCount||0,p=e.doubleMonthFlexTotalCount||0,h=e.quarterFlexTotalCount||0,m=e.yearFlexTotalCount||0,g=e.durationCount||0,y=e.planningCount||0,x=e.listingCount||0,v=e.newbieCount||0,b=e.transferCount||0;b=b>99?"99+":b;var w=[],_=c.find("li:eq(2)");u&&(t.find("dl.flex-week").slideDown(250),w[w.length]=r[0]),f&&(t.find("dl.flex-month").slideDown(250),w[w.length]=r[1]),p&&(t.find("dl.flex-double-month").slideDown(250),w[w.length]=r[2]),h&&(t.find("dl.flex-quarter").slideDown(250),w[w.length]=r[3]),m&&(t.find("dl.flex-year").slideDown(250),w[w.length]=r[4]),_.after(w),t.find("dl.financial").find("span").append(n(i+y+o+a+s+l+d+x+g)),t.find("dl.day").find("span").append(n(i)),t.find("dl.flex-week").find("span").append(n(o)),t.find("dl.flex-month").find("span").append(n(a)),t.find("dl.flex-double-month").find("span").append(n(s)),t.find("dl.flex-quarter").find("span").append(n(l)),t.find("dl.flex-year").find("span").append(n(d)),t.find("dl.duration").find("span").append(n(g)),t.find("dl.planning").find("span").append(n(y)),t.find("dl.listing").find("span").append(n(x)),t.find("dl.newbie").find("span").append(n(v)),t.find("dl.transfer").find("span").append(n(b))}})}function s(){var t=l.find('.user ul li[data-type="my-smart"]'),e=$(".account-list");(t.length||e.length)&&$.ajax({type:"get",url:"/product/smart/invest",data:{},success:function(n){var i=n?n.data:-1;return 1!=i?void(t.length&&t.remove()):(e.length&&(e.find('ul li[data-type="my-smart"]').removeClass("g-dn"),e.find('ul li[data-type="financing"]').removeClass("g-dn")),void(t.length&&t.removeClass("g-dn")))}})}t("../../../plugIn/browserListen/init"),t("../../../module/sso/sso-main");var r=['<li class="flex flex-week"><a href="/product/flex/t/week">周升计划</a></li>','<li class="flex flex-month"><a href="/product/flex/t/month">月续牛</a></li>','<li class="flex flex-double-month"><a href="/product/flex/t/double_month">双月计划</a></li>','<li class="flex flex-quarter"><a href="/product/flex/t/quarter">季升计划</a></li>','<li class="flex flex-year"><a href="/product/flex/t/year">年升计划</a></li>'],l=$("#navigationModel"),c=l.find(".nav-financial");!function(){i(),a(),s(),o()}(),window.gotoLogin=function(t,e,n){var i=n||window.location.href;i.indexOf("url=")>0&&(i=i.substring(0,i.indexOf("url=")-1)),e?t.indexOf("?")>0?window.open(t+"&url="+escape(i)):window.open(t+"?url="+escape(i)):t.indexOf("?")>0?window.location.href=t+"&url="+escape(i):window.location.href=t+"?url="+escape(i)}}),define("plugIn/browserListen/init",[],function(t,e,n){function i(){var t,e,n=navigator.appName,i=parseFloat(navigator.appVersion),o=navigator.userAgent,a="Microsoft Internet Explorer"==n,s="Netscape"==n;if(s)if(i>=5){if(o.indexOf("Netscape")!=-1){var r=o.lastIndexOf("/"),l=o.lastIndexOf(" "),c=o.substring(0,r),d=c.lastIndexOf(" ");t=o.substring(r+1,o.length),e=c.substring(d+1,c.length)}if(o.indexOf("Firefox")!=-1){var r=o.lastIndexOf("/"),l=o.lastIndexOf(" ");t=o.substring(r+1,o.length),e=o.substring(l+1,r)}if(o.indexOf("Safari")!=-1)if(o.indexOf("Chrome")!=-1){var r=o.lastIndexOf(" "),l=o.substring(0,r),u=l.lastIndexOf("/"),c=l.lastIndexOf(" ");t=l.substring(u+1,l.length),e=l.substring(c+1,u)}else{var r=o.lastIndexOf("/"),l=o.substring(0,r),u=l.lastIndexOf("/"),c=o.lastIndexOf(" ");t=o.substring(u+1,c),e=o.substring(c+1,r)}}else t=i,e=n;else if(a){var f=o.indexOf("MSIE"),p=o.indexOf(";",f);if(t=o.substring(f+5,p),e=n,o.indexOf("Maxthon")!=-1||o.indexOf("MAXTHON")!=-1){var h=o.lastIndexOf(" "),m=o.substring(h,o.length-1);m="遨游版本:"+m,e+="(Maxthon)",t+=m}}else if(o.indexOf("Opera")!=-1){e="Opera";o.indexOf("Opera"),o.length;t=i}else e="Unknown Navigator",t="Unknown Version";navigator.Actual_Name=e,navigator.Actual_Version=t,this.Name=e,this.Version=t}i(),("Microsoft Internet Explorer"==navigator.Actual_Name&&navigator.Actual_Version<8||"Opera"==navigator.Actual_Name||"MSIE"==navigator.Actual_Name)&&$("#afficheModel").slideDown()}),define("module/sso/sso-main",["./sso"],function(t,e,n){var i=t("./sso"),o=$("#ulLoginStatus"),a=$(".user",o);i.tryLogin(function(t){if(t&&t.username){var e="";e+='<a href="/MyAccount/index">'+t.username+"</a>",e+='<a class="ext" href="/user/logout">[&nbsp;安全退出&nbsp;]</a>',a.html(e).addClass("logon")}})}),define("module/sso/sso",[],function(t,e,n){function i(t,e){var n="true"==$("#isLogin").val();if(!n){window.ssoCallback=t;var i="/user/trylogin?url=/user/trylogin";$("body").append('<iframe src="'+i+'" style="display:none;"></iframe>')}}return{tryLogin:i}}),define("module/rightTips/js/init",["../../calculator/init","../../qiyukf/kefu"],function(t,e,n){function i(){$(window).scroll(function(){o()}).load(function(){o()}),r.on("click","li",function(){var t=$(this),e=t.index();switch(e){case 0:break;case 1:break;case 2:window.ysf.open();break;case 3:s.init({$target:t});break;case 4:l?window.open("/cms/questionnaire/index"):gotoLogin("/user/login",1,"/cms/questionnaire/index");break;case 5:$(document.documentElement).animate({scrollTop:0},250,"swing"),$(document.body).animate({scrollTop:0},250,"swing")}}).on("mouseenter",".icon-phone-code",function(){r.find("img.app-code").fadeIn(100)}).on("mouseleave",".icon-phone-code",function(){r.find("img.app-code").fadeOut(100)}).on("mouseenter",".icon-post-bar",function(){r.find("img.post-bar-code").fadeIn(100)}).on("mouseleave",".icon-post-bar",function(){r.find("img.post-bar-code").fadeOut(100)})}function o(){var t=($(window).height(),$(window).scrollTop()),e=r.find(".icon-to-top");t>200?e.fadeIn(200):e.fadeOut(200),a(t)}function a(t){var t=t||0,e=window.innerHeight;e+t>900?r.fadeIn(200):r.fadeOut(200)}var s=t("../../calculator/init");t("../../qiyukf/kefu");var r=$("#stairsModel"),l="true"==$("#isLogin").val()?1:0;!function(){r.length&&(i(),a(0))}()}),define("module/calculator/init",["../dialog/js/init"],function(require,exports,module){require("../dialog/js/init");var $dialog=$.dialog;exports.init=function(options){var $target=options.$target,calCent='<div class="lay-cal"><div class="top"><div class="tel">理财计算器</div><a class="close" href="javascript:void(0);">×</a> </div> <div class="tip"></div> <ul class="cal"> <li><span class="l">项 目 金 额：</span><span class="r"><input class="txt" type="text" data-in="/^\\d*$/" maxlength="10" value="5000"/><i>元</i></span></li> <li><span class="l">年化收益率：</span><span class="r"><input class="txt" type="text"  data-in="/^\\d*\\.{0,1}(\\d{1,2})?$/" maxlength="5" value="13"/><i>%</i></span></li><li><span class="l">还 款 方 式：</span><select><option value="3">按月一次性还款</option><option value="0">按天一次性还款</option><option value="4">等额本息</option><option value="2">先息后本</option><option value="5">月息季本</option></select></li> <li><span class="l">项 目 期 限：</span><span class="r"><input class="txt" type="text"  data-in="/^\\d*$/" maxlength="3" value="1"/><i>月</i></span></li><li><span class="l">&nbsp;</span><a class="tocal" href="javascript:;">计算</a><a class="tores" href="javascript:;">重置</a></li></ul><h5>结 果 描 述：</h5><div class="tal">本 息 总 计：<span>0.00</span>元</div><div class="tal">应 收 利 息：<span>0.00</span>元</div><div class="tal">每月应收本息：<span>0.00</span>元</div><div class="tal">您将在最后一个月获得：<span>0.00</span>元</div></div>';$dialog({title:!1,width:430,height:480,lock:!0,opacity:.5,background:"#000",id:"calculator",resize:!1,fixed:!0,content:calCent,cancel:!1,init:function(){$(".lay-cal .close").click(function(){$.dialog({id:"calculator"}).close()}),$(".lay-cal ul input[type='text']").each(function(index,element){var $th=$(this),record={num:""};$th.keyup(function(){var decimalReg=eval($th.attr("data-in")).test($th.val());""!=$th.val()&&decimalReg?record.num=$th.val():""!=$th.val()&&$th.val(record.num)})}),$(".lay-cal .tores").click(function(){$(".lay-cal input[type='text']:eq(0)").val(""),$(".lay-cal input[type='text']:eq(1)").val(""),$(".lay-cal input[type='text']:eq(2)").val(""),$(".lay-cal .tal").removeClass("cur"),$(".lay-cal .tip").html("")}),$(".lay-cal ul select").change(function(){var t=$(".lay-cal ul li:eq(3)").find("i");0==$(this).val()?t.html("天"):t.html("月")});var submitBtn=!0;$(".lay-cal .tocal").click(function(){if($(".lay-cal .tal").removeClass("cur"),$(".lay-cal .tip").html(""),$(".lay-cal ul input[type='text']").each(function(index,element){var $th=$(this);if(""==$th.val())return submitBtn=!1,$(".lay-cal .tip").html($th.parent("span").siblings(".l").html().replace(/\s|：/g,"")+"不能为空"),!1;if(!eval($th.attr("data-in")).test($th.val()))return submitBtn=!1,$(".lay-cal .tip").html("请输入正确的"+$th.parent("span").siblings(".l").html().replace(/\s|：/g,"")+"进行计算"),!1;if("0"==$th.val()){var msg;return 1==index?msg="年化收益率必须大于0":2==index&&(msg="项目期限必须大于0"),$(".lay-cal .tip").html(msg),submitBtn=!1,!1}return 5==$(".lay-cal select").val()&&2==index&&$th.val()%3!=0?($(".lay-cal .tip").html("月息季本类产品期限必须是3的倍数"),submitBtn=!1,!1):void(submitBtn=!0)}),!submitBtn)return!1;var amout=$(".lay-cal input[type='text']:eq(0)").val(),rate=$(".lay-cal input[type='text']:eq(1)").val(),type=$(".lay-cal select").val(),time=$(".lay-cal input[type='text']:eq(2)").val(),total,interest,month,last;switch(type){case"3":interest=parseFloat(amout*(rate/100)/12*time),total=interest+parseFloat(amout);break;case"0":interest=parseFloat(amout*(rate/100)/360*time),total=interest+parseFloat(amout);break;case"4":month=amout*(rate/100)/12*Math.pow(1+rate/100/12,time)/(Math.pow(1+rate/100/12,time)-1),total=month*time,interest=total-amout,$(".lay-cal .tal:eq(2)").addClass("cur").html("每月应收本息：<span>"+$.util.contUn(Number(month).toFixed(2))+"</span>元");break;case"2":month=parseFloat(amout*rate/100/12).toFixed(2),interest=parseFloat(amout*rate/100*time/12),total=parseFloat(interest)+parseFloat(amout),last=time>1?1*amout+1*interest-parseFloat(month*(1*time-1)):1*amout+1*interest,$(".lay-cal .tal:eq(2)").addClass("cur").html("每月应收利息：<span>"+$.util.contUn(Number(month).toFixed(2))+"</span>元"),$(".lay-cal .tal:eq(3)").addClass("cur").find("span").html($.util.contUn(Number(last).toFixed(2)));break;case"5":var totalQuarter=time/3,quarterAmount=Number(amout/time*3).toFixed(2);interest=0;for(var i=0;i<totalQuarter;i++)interest+=parseFloat((amout-quarterAmount*i)*(rate/100)/12*3);total=parseFloat(interest)+parseFloat(amout),$(".lay-cal .tal:eq(2)").addClass("cur").html("每季应收本金：<span>"+$.util.contUn(quarterAmount)+"</span>元")}$(".lay-cal .tal:eq(0)").addClass("cur").find("span").html($.util.contUn(Number(total))),$(".lay-cal .tal:eq(1)").addClass("cur").find("span").html($.util.contUn(Number(interest.toFixed(2))))}),$(document).keyup(function(t){13==t.keyCode&&$(".lay-cal .tocal").trigger("click")})}})}}),define("module/dialog/js/init",["../../../plugIn/lhgdialog/lhgdialog.mod"],function(t,e,n){t("../../../plugIn/lhgdialog/lhgdialog.mod"),n.exports=$.dialog,$.dialog.tip=function(t,e,n){this({id:"xnTip",content:t||"提示信息",fixed:!0,title:!1,time:e||1.5,close:n||null})},$.dialog.alert=function(t,e){this({id:"xnAlert",content:t||"警告信息",fixed:!0,title:!1,ok:e||null})},$.dialog.confirm=function(t,e,n){this({id:"xnConfirm",content:t||"请确认操作？",fixed:!0,title:!1,ok:e||function(){},cancel:n||function(){}})},$.dialog.error=function(t,e){this({id:"xnError",content:t||"错误提示",fixed:!0,title:!1,ok:e||!0})},$.dialog.success=function(t,e,n){this({id:"xnSuccess",content:t||"成功提示",fixed:!0,title:!1,time:e||1.5,close:n||null})},$.dialog.loading=function(t){return this({id:"xnLoading",content:t||"处理中……",fixed:!0,lock:!0,opacity:.3,title:!1,init:function(){}}),this({id:"xnLoading"})},$.dialog.extend=function(t,e,n,i,o,a){this({id:t,title:e,fixed:!0,width:i,height:o,lock:!0,opacity:.9,background:"#000",max:!1,min:!1,close:a||function(){},content:n})}}),define("plugIn/lhgdialog/lhgdialog.mod",[],function(t,e,n){!function(t,e,n){var i,o,a,s,r=e.ActiveXObject&&!e.XMLHttpRequest,l=function(){},c=0,d=/^url:/,u=e.document,f="JDG"+ +new Date,p='<table class="ui_border"><tbody><tr><td class="ui_lt"></td><td class="ui_t"></td><td class="ui_rt"></td></tr><tr><td class="ui_l"></td><td class="ui_c"><div class="ui_inner"><table class="ui_dialog"><tbody><tr><td colspan="2"><div class="ui_title_bar"><div class="ui_title" unselectable="on"></div><div class="ui_title_buttons"><a class="ui_min" href="javascript:void(0);" title="最小化"><b class="ui_min_b"></b></a><a class="ui_max" href="javascript:void(0);" title="最大化"><b class="ui_max_b"></b></a><a class="ui_res" href="javascript:void(0);" title="还原"><b class="ui_res_b"></b><b class="ui_res_t"></b></a><a class="ui_close" href="javascript:void(0);" title="关闭(esc键)">×</a></div></div></td></tr><tr><td class="ui_icon"></td><td class="ui_main"><div class="ui_content"></div></td></tr><tr><td colspan="2"><div class="ui_buttons"></div></td></tr></tbody></table></div></td><td class="ui_r"></td></tr><tr><td class="ui_lb"></td><td class="ui_b"></td><td class="ui_rb"></td></tr></tbody></table>',h=function(t,e,n){for(var i=t.length;e<i&&(n=u.querySelector?t[e].src:t[e].getAttribute("src",4),n.substr(n.lastIndexOf("/")).indexOf("lhgdialog")===-1);e++);return n=n.split("?"),a=n[1],n[0].substr(0,n[0].lastIndexOf("/")+1)}(u.getElementsByTagName("script"),0),m=function(t){if(a)for(var e,n=a.split("&"),i=0,o=n.length;i<o;i++)if(e=n[i].split("="),t===e[0])return e[1];return null},g=(m("skin")||"default",function(t){try{s=t.top.document,s.getElementsByTagName}catch(e){return s=t.document,t}return"true"===m("self")||s.getElementsByTagName("frameset").length>0?(s=t.document,t):t.top}(e)),y=s.documentElement,x="BackCompat"===s.compatMode;_$doc=t(s),_$top=t(g),_$html=t(s.getElementsByTagName("html")[0]);try{s.execCommand("BackgroundImageCache",!1,!0)}catch(v){}r&&function(t){"fixed"!==_$html.css(t)&&_$html.css({zoom:1,backgroundImage:"url(about:blank)",backgroundAttachment:"fixed"})}("backgroundAttachment");var b=function(t){t=t||{};var e,o=b.setting;for(var a in o)t[a]===n&&(t[a]=o[a]);return t.id=t.id||f+c,(e=b.list[t.id])?e.zindex().focus():(t.button=t.button||[],t.ok&&t.button.push({id:"ok",name:t.okVal,callback:t.ok,focus:t.focus}),t.cancel&&t.button.push({id:"cancel",name:t.cancelVal,callback:t.cancel}),b.setting.zIndex=t.zIndex,c++,b.list[t.id]=i?i._init(t):new b.fn._init(t))};b.fn=b.prototype={constructor:b,_init:function(t){var n,o=this,a=t.content,s=d.test(a);return o.opener=e,o.config=t,o.DOM=n=o.DOM||o._getDOM(),o.closed=!1,o.data=t.data,t.icon&&!s?(t.min=!1,t.max=!1,n.icon[0].style.display="",n.icon[0].innerHTML='<img src="'+t.path+"skins/icons/"+t.icon+'" class="ui_icon_bg"/>'):n.icon[0].style.display="none",n.wrap.addClass(t.skin),n.rb[0].style.cursor=t.resize?"se-resize":"auto",n.title[0].style.cursor=t.drag?"move":"auto",n.max[0].style.display=t.max?"inline-block":"none",n.min[0].style.display=t.min?"inline-block":"none",n.close[0].style.display=t.cancel===!1?"none":"inline-block",n.content[0].style.padding=t.padding,o.button.apply(o,t.button),o.title(t.title).content(a,!0,s).size(t.width,t.height).position(t.left,t.top).time(t.time)[t.show?"show":"hide"](!0).zindex(),t.focus&&o.focus(),t.lock&&o.lock(),o._ie6PngFix()._addEvent(),i=null,!s&&t.init&&t.init.call(o,e),o},button:function(){for(var e,n,i,o,a,r=this,l=r.DOM,c=l.buttons[0],d="ui_state_highlight",u=r._listeners=r._listeners||{},p=[].slice.call(arguments),h=0;h<p.length;h++)e=p[h],n=e.name,i=e.id||n,o=!u[i],a=o?s.createElement("input"):u[i].elem,a.type="button",u[i]||(u[i]={}),n&&(a.value=n),e.callback&&(u[i].callback=e.callback),e.focus&&(r._focus&&r._focus.removeClass(d),r._focus=t(a).addClass(d),r.focus()),a[f+"callback"]=i,a.disabled=!!e.disabled,o&&(u[i].elem=a,c.appendChild(a));return c.style.display=p.length?"":"none",r._ie6SelectFix(),r},title:function(t){if(t===n)return this;var e=this.DOM,i=e.border,o=e.title[0];return t===!1?(o.style.display="none",o.innerHTML="",i.addClass("ui_state_tips")):(o.style.display="",o.innerHTML=t,i.removeClass("ui_state_tips")),this},content:function(t,e,i){if(t===n)return this;var o=this,a=o.DOM,s=a.wrap[0],r=s.offsetWidth,l=s.offsetHeight,c=parseInt(s.style.left),d=parseInt(s.style.top),u=s.style.width,f=a.content,p=b.setting.content;return i?(f[0].innerHTML=p,o._iframe(t.split("url:")[1])):f.html(t),e||(r=s.offsetWidth-r,l=s.offsetHeight-l,c-=r/2,d-=l/2,s.style.left=Math.max(c,0)+"px",s.style.top=Math.max(d,0)+"px",u&&"auto"!==u&&(s.style.width=s.offsetWidth+"px"),o._autoPositionType()),o._ie6SelectFix(),o},size:function(t,e){var n=this,i=n.DOM,o=i.wrap[0],a=i.main[0].style;return o.style.width="auto","number"==typeof t&&(t+="px"),"number"==typeof e&&(e+="px"),a.width=t,a.height=e,"auto"!==t&&(o.style.width=o.offsetWidth+"px"),n._ie6SelectFix(),n},position:function(t,e){var i=this,o=i.config,a=i.DOM.wrap[0],s=a.style,l=!r&&o.fixed,c=r&&o.fixed,d=_$top.scrollLeft(),u=_$top.scrollTop(),f=l?0:d,p=l?0:u,h=_$top.width(),m=_$top.height(),g=a.offsetWidth,y=a.offsetHeight;return(t||0===t)&&(i._left=t.toString().indexOf("%")!==-1?t:null,t=i._toNumber(t,h-g),"number"==typeof t&&(t=c?t+=d:t+f,t=Math.max(t,f)+"px"),s.left=t),(e||0===e)&&(i._top=e.toString().indexOf("%")!==-1?e:null,e=i._toNumber(e,m-y),"number"==typeof e&&(e=c?e+=u:e+p,e=Math.max(e,p)+"px"),s.top=e),t!==n&&e!==n&&i._autoPositionType(),i},time:function(t,e){var n=this,i=n._timer;return i&&clearTimeout(i),e&&e.call(n),t&&(n._timer=setTimeout(function(){n._click("cancel")},1e3*t)),n},show:function(e){return this.DOM.wrap[0].style.visibility="visible",this.DOM.border.addClass("ui_state_visible"),!e&&this._lock&&(t("#ldg_lockmask",s)[0].style.display=""),this},hide:function(e){return this.DOM.wrap[0].style.visibility="hidden",this.DOM.border.removeClass("ui_state_visible"),!e&&this._lock&&(t("#ldg_lockmask",s)[0].style.display="none"),this},zindex:function(){var t=this,e=t.DOM,n=t._load,i=b.focus,o=b.setting.zIndex++;return e.wrap[0].style.zIndex=o,i&&i.DOM.border.removeClass("ui_state_focus"),b.focus=t,e.border.addClass("ui_state_focus"),n&&n.style.zIndex&&(n.style.display="none"),i&&i!==t&&i.iframe&&(i._load.style.display=""),t},focus:function(){try{elemFocus=this._focus&&this._focus[0]||this.DOM.close[0],elemFocus&&elemFocus.focus()}catch(t){}return this},lock:function(){var e,n=this,i=b.setting.zIndex-1,o=(n.config,t("#ldg_lockmask",s)[0]),a=o?o.style:"",l=r?"absolute":"fixed";return o||(e='<iframe src="javascript:\'\'" style="width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;filter:alpha(opacity=0)"></iframe>',o=s.createElement("div"),o.id="ldg_lockmask",o.style.cssText="position:"+l+";left:0;top:0;width:100%;height:100%;overflow:hidden;",a=o.style,r&&(o.innerHTML=e),s.body.appendChild(o)),"absolute"===l&&(a.width=_$top.width(),a.height=_$top.height(),a.top=_$top.scrollTop(),a.left=_$top.scrollLeft(),n._setFixed(o)),a.zIndex=i,a.display="",n.zindex(),n.DOM.border.addClass("ui_state_lock"),n._lock=!0,n},unlock:function(){var e=this,n=e.config,i=t("#ldg_lockmask",s)[0];if(i&&e._lock){if(n.parent&&n.parent._lock){var o=n.parent.DOM.wrap[0].style.zIndex;i.style.zIndex=parseInt(o,10)-1}else i.style.display="none";e.DOM.border.removeClass("ui_state_lock")}return e._lock=!1,e},close:function(){var n=this,o=n.DOM,a=o.wrap,s=b.list,r=n.config.close;if(n.time(),n.iframe){if("function"==typeof r&&r.call(n,n.iframe.contentWindow,e)===!1)return n;t(n.iframe).unbind("load",n._fmLoad).attr("src","javascript:''").remove(),o.content.removeClass("ui_state_full"),n._frmTimer&&clearTimeout(n._frmTimer)}else if("function"==typeof r&&r.call(n,e)===!1)return n;if(n.unlock(),n._maxState&&(_$html.removeClass("ui_lock_scroll"),o.res[0].style.display="none"),b.focus===n&&(b.focus=null),n._removeEvent(),delete s[n.config.id],i)a.remove();else{i=n,n._minState&&(o.main[0].style.display="",o.buttons[0].style.display="",o.dialog[0].style.width=""),o.wrap[0].style.cssText="left:0;top:0;",o.wrap[0].className="",o.border.removeClass("ui_state_focus"),o.title[0].innerHTML="",o.content.html(""),o.icon[0].innerHTML="",o.buttons[0].innerHTML="",n.hide(!0)._setAbsolute();for(var l in n)n.hasOwnProperty(l)&&"DOM"!==l&&delete n[l]}return n.closed=!0,n},max:function(){var t,e=this,n=e.DOM,i=n.wrap[0].style,o=n.main[0].style,a=n.rb[0].style,s=n.title[0].style,l=e.config,c=_$top.scrollTop(),d=_$top.scrollLeft();return e._maxState?(_$html.removeClass("ui_lock_scroll"),i.top=e._or.t,i.left=e._or.l,e.size(e._or.w,e._or.h)._autoPositionType(),l.drag=e._or.d,l.resize=e._or.r,a.cursor=e._or.rc,s.cursor=e._or.tc,n.res[0].style.display="none",n.max[0].style.display="inline-block",delete e._or,e._maxState=!1):(_$html.addClass("ui_lock_scroll"),e._minState&&e.min(),e._or={t:i.top,l:i.left,w:o.width,h:o.height,d:l.drag,r:l.resize,rc:a.cursor,tc:s.cursor},i.top=c+"px",i.left=d+"px",t=e._maxSize(),e.size(t.w,t.h)._setAbsolute(),r&&x&&(i.width=_$top.width()+"px"),l.drag=!1,l.resize=!1,a.cursor="auto",s.cursor="auto",n.max[0].style.display="none",n.res[0].style.display="inline-block",e._maxState=!0),e},min:function(){var t=this,e=t.DOM,n=e.main[0].style,i=e.buttons[0].style,o=e.dialog[0].style,a=e.rb[0].style.cursor,s=t.config.resize;return t._minState?(n.display="",i.display=t._minRz.btn,o.width="",s=t._minRz,a.cursor=t._minRz.rzs?"se-resize":"auto",delete t._minRz,t._minState=!1):(t._maxState&&t.max(),t._minRz={rzs:s,btn:i.display},n.display="none",i.display="none",o.width=n.width,a.cursor="auto",s=!1,t._minState=!0),t._ie6SelectFix(),t},get:function(t,e){return b.list[t]?1===e?b.list[t]:b.list[t].content||null:null},reload:function(n,i,o){n=n||e;try{n.location.href=i?i:n.location.href}catch(a){i=this.iframe.src,t(this.iframe).attr("src",i)}return o&&o.call(this),this},_iframe:function(e){var n,i,o,a,l,c,d,u=this,f=u.DOM.content,p=u.config,h=u._load=t(".ui_loading",f[0])[0],m="position:absolute;left:-9999em;border:none 0;background:transparent",y="width:100%;height:100%;border:none 0;";if(p.cache===!1){var x=(new Date).getTime(),v=e.replace(/([?&])_=[^&]*/,"$1_="+x);e=v+(v===e?(/\?/.test(e)?"&":"?")+"_="+x:"")}n=u.iframe=s.createElement("iframe"),n.name=p.id,n.style.cssText=m,n.setAttribute("frameborder",0,0),i=t(n),f[0].appendChild(n),u._frmTimer=setTimeout(function(){i.attr("src",e)},1);var b=u._fmLoad=function(){f.addClass("ui_state_full");var e=u.DOM,i=(e.lt[0].offsetHeight,e.main[0].style);h.style.cssText="display:none;position:absolute;background:#FFF;opacity:0;filter:alpha(opacity=0);z-index:1;width:"+i.width+";height:"+i.height+";";try{o=u.content=n.contentWindow,a=t(o.document),l=t(o.document.body)}catch(s){return void(n.style.cssText=y)}c="auto"===p.width?a.width()+(r?0:parseInt(l.css("marginLeft"))):p.width,d="auto"===p.height?a.height():p.height,setTimeout(function(){n.style.cssText=y},0),u._maxState||u.size(c,d).position(p.left,p.top),h.style.width=i.width,h.style.height=i.height,p.init&&p.init.call(u,o,g)};u.iframe.api=u,i.bind("load",b)},_getDOM:function(){var e=s.createElement("div"),n=s.body;e.style.cssText="position:absolute;left:0;top:0;visibility:hidden;",e.innerHTML=p;for(var i,o=0,a={wrap:t(e)},r=e.getElementsByTagName("*"),l=r.length;o<l;o++)i=r[o].className.split("ui_")[1],i&&(a[i]=t(r[o]));return n.insertBefore(e,n.firstChild),a},_toNumber:function(t,e){return"number"==typeof t?t:(t.indexOf("%")!==-1&&(t=parseInt(e*t.split("%")[0]/100)),t)},_maxSize:function(){var t,e,n=this,i=n.DOM,o=i.wrap[0],a=i.main[0];return t=_$top.width()-o.offsetWidth+a.offsetWidth,e=_$top.height()-o.offsetHeight+a.offsetHeight,{w:t,h:e}},_ie6PngFix:function(){if(r)for(var t,e,n,i,o=0,a=b.setting.path+"/skins/",s=this.DOM.wrap[0].getElementsByTagName("*");o<s.length;o++)t=s[o],e=t.currentStyle.png,e&&(n=a+e,i=t.runtimeStyle,i.backgroundImage="none",i.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+n+"',sizingMethod='scale')");return this},_ie6SelectFix:r?function(){var t=this.DOM.wrap,e=t[0],n=n+"iframeMask",i=t[n],o=e.offsetWidth,a=e.offsetHeight;o+="px",a+="px",i?(i.style.width=o,i.style.height=a):(i=e.appendChild(s.createElement("iframe")),t[n]=i,i.src="javascript:''",i.style.cssText="position:absolute;z-index:-1;left:0;top:0;filter:alpha(opacity=0);width:"+o+";height:"+a)}:l,_autoPositionType:function(){this[this.config.fixed?"_setFixed":"_setAbsolute"]()},_setFixed:function(t){var e=t?t.style:this.DOM.wrap[0].style;if(r){var n=_$top.scrollLeft(),i=_$top.scrollTop(),o=parseInt(e.left)-n,a=parseInt(e.top)-i,s=x?"this.ownerDocument.body":"this.ownerDocument.documentElement";this._setAbsolute(),e.setExpression("left",s+".scrollLeft +"+o),e.setExpression("top",s+".scrollTop +"+a)}else e.position="fixed"},_setAbsolute:function(){var t=this.DOM.wrap[0].style;r&&(t.removeExpression("left"),t.removeExpression("top")),t.position="absolute"},_click:function(t){var n=this,i=n._listeners[t]&&n._listeners[t].callback;return"function"!=typeof i||i.call(n,e)!==!1?n.close():n},_reset:function(){var n,i=!!e.ActiveXObject,o=this,a=_$top.width(),l=_$top.height(),c=o._winSize||a*l,d=o._lockDocW||a,u=o._left,f=o._top;if(!i||(o._lock&&r&&t("#ldg_lockmask",s).css({width:a+"px",height:l+17+"px"}),newWidth=o._lockDocW=a,n=o._winSize=a*l,c!==n)){if(o._maxState){var p=o._maxSize();o.size(p.w,p.h)}i&&17===Math.abs(d-newWidth)||(u||f)&&o.position(u,f)}},_addEvent:function(){var t,e=this,n=e.config,i=e.DOM;e._winResize=function(){t&&clearTimeout(t),t=setTimeout(function(){e._reset()},140)},_$top.bind("resize",e._winResize),i.wrap.bind("click",function(t){var n,o=t.target;return!o.disabled&&(o===i.close[0]?(e._click("cancel"),!1):o===i.max[0]||o===i.res[0]||o===i.max_b[0]||o===i.res_b[0]||o===i.res_t[0]?(e.max(),!1):o===i.min[0]||o===i.min_b[0]?(e.min(),!1):(n=o[f+"callback"],void(n&&e._click(n))))}).bind("mousedown",function(t){e.zindex();var o=t.target;if(n.drag!==!1&&o===i.title[0]||n.resize!==!1&&o===i.rb[0])return w(t),!1}),n.max&&i.title.bind("dblclick",function(){return e.max(),!1})},_removeEvent:function(){var t=this,e=t.DOM;e.wrap.unbind(),e.title.unbind(),_$top.unbind("resize",t._winResize)}},b.fn._init.prototype=b.fn,b.focus=null,b.list={},o=function(t){var e=(t.target,b.focus),n=t.keyCode;e&&e.config.esc&&e.config.cancel!==!1&&27===n&&e._click(e.config.cancelVal)},_$doc.bind("keydown",o),g!=e&&t(e).bind("unload",function(){var e=b.list;for(var n in e)e[n]&&e[n].close();i&&i.DOM.wrap.remove(),_$doc.unbind("keydown",o),t("#ldg_lockmask",s)[0]&&t("#ldg_lockmask",s).remove(),t("#ldg_dragmask",s)[0]&&t("#ldg_dragmask",s).remove()}),b.setting={content:'<div class="ui_loading"><span>loading...</span></div>',title:"视窗 ",button:null,ok:null,cancel:null,init:null,close:null,okVal:"确定",cancelVal:"取消",skin:"",esc:!0,show:!0,width:"auto",height:"auto",icon:null,path:h,lock:!1,focus:!0,parent:null,padding:"10px",fixed:!1,left:"50%",top:"38.2%",max:!0,min:!0,zIndex:1976,resize:!0,drag:!0,cache:!0,data:null,extendDrag:!1};var w,_="setCapture"in y,S="onlosecapture"in y;b.dragEvent={onstart:l,start:function(t){var e=b.dragEvent;return _$doc.bind("mousemove",e.move).bind("mouseup",e.end),e._sClientX=t.clientX,e._sClientY=t.clientY,e.onstart(t.clientX,t.clientY),!1},onmove:l,move:function(t){var e=b.dragEvent;return e.onmove(t.clientX-e._sClientX,t.clientY-e._sClientY),!1},onend:l,end:function(t){var e=b.dragEvent;return _$doc.unbind("mousemove",e.move).unbind("mouseup",e.end),e.onend(t.clientX,t.clientY),!1}},w=function(e){var n,i,o,a,l,c,d=b.focus,u=d.config,f=d.DOM,p=f.wrap[0],h=f.title,m=f.main[0],y=b.dragEvent,x="getSelection"in g?function(){g.getSelection().removeAllRanges()}:function(){try{s.selection.empty()}catch(t){}};y.onstart=function(t,e){c?(i=m.offsetWidth,o=m.offsetHeight):(a=p.offsetLeft,l=p.offsetTop),_$doc.bind("dblclick",y.end),!r&&S?h.bind("losecapture",y.end):_$top.bind("blur",y.end),_&&h[0].setCapture(),f.border.addClass("ui_state_drag"),d.focus()},y.onmove=function(e,s){if(c){var r=p.style,f=m.style,h=e+i,g=s+o;r.width="auto",u.width=f.width=Math.max(0,h)+"px",r.width=p.offsetWidth+"px",u.height=f.height=Math.max(0,g)+"px",d._load&&t(d._load).css({width:f.width,height:f.height})}else{var f=p.style,y=e+a,v=s+l;u.left=Math.max(n.minX,Math.min(n.maxX,y)),u.top=Math.max(n.minY,Math.min(n.maxY,v)),f.left=u.left+"px",f.top=u.top+"px"}x()},y.onend=function(t,e){_$doc.unbind("dblclick",y.end),!r&&S?h.unbind("losecapture",y.end):_$top.unbind("blur",y.end),_&&h[0].releaseCapture(),r&&d._autoPositionType(),f.border.removeClass("ui_state_drag")},c=e.target===f.rb[0],n=function(t){var e=p.offsetWidth,n=h[0].offsetHeight||20,i=_$top.width(),o=_$top.height(),a=t?0:_$top.scrollLeft(),s=t?0:_$top.scrollTop();return maxX=i-e+a,maxY=o-n+s,{minX:a,minY:s,maxX:maxX,maxY:maxY}}("fixed"===p.style.position),y.start(e)},t(function(){setTimeout(function(){c||b({left:"-9999em",time:9,fixed:!1,lock:!1,focus:!1})},150),b.setting.extendDrag&&function(t){var e=s.createElement("div"),n=e.style,i=r?"absolute":"fixed";e.id="ldg_dragmask",n.cssText="display:none;position:"+i+";left:0;top:0;width:100%;height:100%;cursor:move;filter:alpha(opacity=0);opacity:0;background:#FFF;pointer-events:none;",s.body.appendChild(e),t._start=t.start,t._end=t.end,t.start=function(){var e=b.focus,o=e.DOM.main[0],a=e.iframe;t._start.apply(this,arguments),n.display="block",n.zIndex=b.setting.zIndex+3,"absolute"===i&&(n.width=_$top.width()+"px",n.height=_$top.height()+"px",n.left=_$doc.scrollLeft()+"px",n.top=_$doc.scrollTop()+"px"),a&&o.offsetWidth*o.offsetHeight>307200&&(o.style.visibility="hidden")},t.end=function(){var e=b.focus;t._end.apply(this,arguments),n.display="none",e&&(e.DOM.main[0].style.visibility="visible")}}(b.dragEvent)}),t.fn.dialog=function(){var t=arguments;return this.bind("click",function(){return b.apply(this,t),!1}),this},e.lhgdialog=t.dialog=b}(this.jQuery||this.lhgcore,this),function(t,e,n){var i=function(){return e.setting.zIndex};e.alert=function(t,n,o){return e({title:"警告",id:"Alert",zIndex:i(),icon:"alert.gif",fixed:!0,lock:!0,content:t,ok:!0,resize:!1,close:n,parent:o||null})},e.confirm=function(t,n,o,a){return e({title:"确认",id:"confirm.gif",zIndex:i(),icon:"confirm.gif",fixed:!0,lock:!0,content:t,resize:!1,parent:a||null,ok:function(t){return n.call(this,t)},cancel:function(t){return o&&o.call(this,t)}})},e.prompt=function(t,n,o,a){o=o||"";var s;return e({title:"提问",id:"Prompt",zIndex:i(),icon:"prompt.gif",fixed:!0,lock:!0,parent:a||null,content:['<div style="margin-bottom:5px;font-size:12px">',t,"</div>","<div>",'<input value="',o,'" style="width:18em;padding:6px 4px" />',"</div>"].join(""),init:function(){s=this.DOM.content[0].getElementsByTagName("input")[0],s.select(),s.focus()},ok:function(t){return n&&n.call(this,s.value,t)},cancel:!0})},e.tips=function(t,n,o,a){var s=o?function(){this.DOM.icon[0].innerHTML='<img src="'+this.config.path+"skins/icons/"+o+'" class="ui_icon_bg"/>',this.DOM.icon[0].style.display="",a&&(this.config.close=a)}:function(){this.DOM.icon[0].style.display="none",a&&(this.config.close=a)};return e({id:"Tips",zIndex:i(),title:!1,cancel:!1,fixed:!0,lock:!1,resize:!1}).content(t).time(n||1.5,s)}}(this.jQuery||this.lhgcore,this.lhgdialog)}),define("module/qiyukf/kefu",[],function(require,exports,module){window.__YSFWINTYPE__=Number("2"),window.__YSFTHEMELAYEROUT__=3,window.__YSFBGCOLOR__="0",window.__YSFBGTONE__="1",window.__YSFSDKADR__="https://qiyukf.com",window.ysf=window.ysf||{ROOT:"https://qiyukf.com"},!function(){
if(!window.localStorage||!window.postMessage)throw"not support service";var util={isMobilePlatform:function(){return!!/(iPhone|iPod|iOS|Android)/i.test(navigator.userAgent)},createAjax:function(){var t=null;return window.XMLHttpRequest&&(t=new XMLHttpRequest,"withCredentials"in t)?t:(window.xDomainRequest&&(t=new Window.xDomainRequest),t)},ajax:function(conf){var type=conf.type||"get",url=conf.url,data=conf.data,success=conf.success,error=conf.error,xhr=util.createAjax();if(xhr){try{xhr.open(type,url)}catch(ex){return void error()}xhr.onreadystatechange=function(){4==xhr.readyState&&(200===xhr.status?success(eval("("+xhr.responseText+")")):error())},"GET"==type.toUpperCase()?xhr.send(null):(xhr.setRequestHeader("content-type","application/x-www-form-urlencoded"),xhr.send(data))}else error()},findLocalItems:function(t,e){var n,i,o=[];for(n in localStorage)(n.match(t)||!t&&"string"==typeof n)&&(i=e?JSON.parse(localStorage.getItem(n)):localStorage.getItem(n),o.push({key:n,val:i}));return o},clearLocalItems:function(t){for(var e=0;e<t.length;e++)window.localStorage.removeItem(t[e].key)},addEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},mergeUrl:function(t,e){var n=t.split("?"),i=n.shift(),o=util.query2Object(n.shift()||"","&");for(var a in e)o[a]=e[a];for(var a in o)n.push(a+"="+(o[a]||""));return i+"?"+n.join("&")},query2Object:function(t,e){for(var n=t.split(e),i={},o=0;o<n.length;o++){var a=n[o],s=(a||"").split("="),r=s.shift();r&&(i[decodeURIComponent(r)]=decodeURIComponent(s.join("=")))}return i},isObject:function(t){return"[object object]"==={}.toString.call(t).toLowerCase()},isFunction:function(t){return"[object function]"==={}.toString.call(t).toLowerCase()},notification:function(){var t,e;return function(n){t&&(clearTimeout(e),t.close()),window.Notification&&"granted"!==window.Notification.permission&&Notification.requestPermission(),window.Notification&&"denied"!=window.Notification.permission&&(t=new Notification(n.notify,{tag:n.tag,body:n.body,icon:window.__YSFSDKADR__+n.icon}),util.playAudio(),t.onclick=function(){t&&t.close(),window.focus(),ysf.openLayer(),ysf.NotifyMsgAndBubble({category:"clearCircle"})},e=window.setTimeout(function(){t.close()},2e4))}}(),playAudio:function(){if(window.__YSFSDKADR__){var t=document.createElement("audio");return t.src=window.__YSFSDKADR__+"/prd/res/audio/message.mp3?26b875bad3e46bf6661b16a5d0080870",function(){t.play()}}}()};window.ysf=window.ysf||{},ysf.ROOT=ysf.ROOT||"",ysf.VERSION="2.8.0";var winParam={},cache={},proxy,chatProxy,chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",firstBtnClick=!0,CircleNumberFlag=0,msgSessionIds=[],each=function(t,e){if(t&&e)for(var n in t)t.hasOwnProperty(n)&&e.call(null,n,t[n])},rand=function(t){if(t)return"ysf-"+t;for(var e,n=[],i=0;i<20;++i)e=Math.floor(Math.random()*chars.length),n.push(chars.charAt(e));return n.join("").toLowerCase()},migrate=function(){var t;/YSF_UID\s*=\s*(.*?)(?=;|$)/i.test(document.cookie)&&(t=RegExp.$1),t&&localStorage.setItem("YSF_UID",t);var t;/YSF_LAST\s*=\s*(.*?)(?=;|$)/i.test(document.cookie)&&(t=RegExp.$1),t&&localStorage.setItem("YSF_LAST",t);var e=new Date(1990,11,30).toGMTString();document.cookie="YSF_UID=;path=/;expires="+e,document.cookie="YSF_LAST=;path=/;expires="+e},cmap={ack:function(t){cache.timestamp=parseInt(t,10),cache.onackdone&&(cache.onackdone(),delete cache.onackdone)},rdy:function(t){syncProfile()}},wrap=function(){var t=document.createElement("div"),e=t.style,n={top:0,left:0,visibility:"hidden",position:"absolute",width:"1px",height:"1px"};return each(n,function(t,n){e[t]=n}),document.body.appendChild(t),t},merge=function(t){each(t,function(t,e){cache[t]=e})},refresh=function(t){t=t||"";var e=device(),n=lastUID();(!e||""==t&&""!=n)&&(e=t||e||rand(t),sendMsg("synckey:"+e)),cache.device=e,localStorage.setItem("YSF-"+cache.appKey.toUpperCase()+"-UID",t||e),localStorage.setItem("YSF-"+cache.appKey.toUpperCase()+"-LAST",t||"")},serialize=function(t){var e=[];return each(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")},device=function(){return localStorage.getItem("YSF-"+cache.appKey.toUpperCase()+"-UID")||""},lastUID=function(){return localStorage.getItem("YSF-"+cache.appKey.toUpperCase()+"-LAST")||""},updateDevice=function(){cache.device=rand(),localStorage.setItem("YSF-"+cache.appKey.toUpperCase()+"-UID",cache.device),sendMsg("synckey:"+cache.device)},sendChatMsg=function(t,e){chatProxy.contentWindow.postMessage(""+t+":"+JSON.stringify(e),"*")},visit=function(){if(cache.appKey){var t=new Image,e=serialize({uri:location.href,title:document.title,appkey:cache.appKey});t.src=ysf.DOMAIN+"webapi/user/accesshistory.action?"+e}},syncProfile=function(){sendMsg("KEY:"+cache.appKey||"");var t={title:document.title||""},e=function(t,e){var n=!1;return t.forEach(function(t){t.key==e&&(n=!0)}),n};each({name:"",email:"",mobile:"",avatar:"",profile:"data",bid:""},function(e,n){var i=cache[n]||cache[e];null!=i&&(t[e]=i)}),each({avatar:"头像"},function(n,i){try{if(!t[n])return;var o=JSON.parse(t.profile||"[]"),a=o.length;e(o,n)||(o.push({key:n,value:t[n],index:a,label:i}),t.profile=JSON.stringify(o))}catch(s){console.error("parse profile error: [crm]"+n,s)}}),t.referrer=location.href,t.uid=cache.uid||"",sendMsg("USR:"+serialize(t))},syncCustomProfile=function(t){syncProfile(),sendMsg("PRODUCT:"+serialize(t))},sendMsg=function(t){try{proxy.contentWindow.postMessage(t,"*")}catch(e){}},msgNotifyLock=function(){return function(t,e){setTimeout(function(){var n=("YSFMSG-"+cache.appKey+"-"+t.id).toUpperCase();null==window.localStorage.getItem(n)&&(window.localStorage.setItem(n,1),e(!0)),e(!1)},100*cache.dvcTimer)}}(),receiveMsg=function(t){if(t.origin==ysf.ROOT){var e=(t.data||"").split(":"),n=e.shift();if("pkg"!=n){var i=cmap[(n||"").toLowerCase()];i&&i(e.join(":"))}else receivePkg(JSON.parse(e.join(":")))}},receivePkg=function(t){var e={notify:function(t){var e="YSF-"+device()+"-MSGNUMBERS";msgNotifyLock(t,function(n){var i=Number(window.localStorage.getItem(e)||0),o=n?++i:i;cache.notifyContent=t,cache.notifyNumber=o,n&&ysf._unread(ysf.getUnreadMsg()),ysf.NotifyMsgAndBubble({category:"notifyCircle",data:{circleNum:o,notifyCnt:t.content,type:t.type}})})},winfocus:function(t){util.notification(t)},closeIframe:function(t){var e=document.getElementById("YSF-PANEL-CORPINFO")||document.getElementById("YSF-PANEL-INFO"),n=document.getElementById("YSF-BTN-HOLDER");e.className="ysf-chat-layer",e.setAttribute("data-switch",0);try{sendChatMsg("status",{layerOpen:0})}catch(i){}0==cache.hidden&&(n.style.display="block")},leaveOk:function(t){util.resetTimer&&clearTimeout(util.resetTimer),util.resetTimer=setTimeout(function(){reset()},1e3)},pushMsg:function(t){t.data.sdkAppend&&(CircleNumberFlag+=1,msgSessionIds.push(t.data.msgSessionId),ysf.NotifyMsgAndBubble({category:"notifyCircle",data:{circleNum:CircleNumberFlag,notifyCnt:t.data.content,type:"text"}}))}},n=e[t.category];n&&n(t)},reset=function(){var t=document.getElementById("YSF-PANEL-CORPINFO")||document.getElementById("YSF-PANEL-INFO"),e=document.getElementById("YSF-BTN-HOLDER");document.body.removeChild(t),document.body.removeChild(e),ysf.init(cache.imgSrc),firstBtnClick=!0},buildProxy=function(){proxy||(window.addEventListener?window.addEventListener("message",receiveMsg,!1):window.attachEvent("onmessage",receiveMsg),proxy=wrap(),proxy.innerHTML='<iframe style="height:0px; width:0px;" src="'+ysf.RESROOT+"res/delegate.html?"+ +new Date+'"></iframe>',proxy=proxy.getElementsByTagName("IFRAME")[0])},initWinConfig=function(){var t=window.screen||{},e={base:",location=0,menubar=0,scrollbars=0,status=0,toolbar=0,resizable=0",winNoInfo:{width:600,height:630,top:Math.max(0,((t.height||0)-630)/2),left:Math.max(0,((t.width||0)-600)/2)},winHasInfo:{width:842,height:632,top:Math.max(0,((t.height||0)-630)/2),left:Math.max(0,((t.width||0)-840)/2)},layerNoInfo:{param:""},layerHasInfo:{param:""}};switch(e.winNoInfo.param="top="+e.winNoInfo.top+",left="+e.winNoInfo.left+",width="+e.winNoInfo.width+",height="+e.winNoInfo.height+e.base,e.winHasInfo.param="top="+e.winHasInfo.top+",left="+e.winHasInfo.left+",width="+e.winHasInfo.width+",height="+e.winHasInfo.height+e.base,util.isMobilePlatform()&&(cache.winType=3),cache.winType){case 1:winParam=cache.corpInfo?e.layerHasInfo:e.layerNoInfo,winParam.type="layer";break;case 3:winParam={type:"url",param:""};break;default:winParam=cache.corpInfo?e.winHasInfo:e.winNoInfo,winParam.type="win"}},initWinConfigTrade=function(){var t=window.screen||{},e={base:",location=0,menubar=0,scrollbars=0,status=0,toolbar=0,resizable=0",winNoInfo:{width:980,height:632,top:Math.max(0,((t.height||0)-630)/2),left:Math.max(0,((t.width||0)-600)/2)},winHasInfo:{width:980,height:632,top:Math.max(0,((t.height||0)-630)/2),left:Math.max(0,((t.width||0)-840)/2)}};switch(e.winNoInfo.param="top="+e.winNoInfo.top+",left="+e.winNoInfo.left+",width="+e.winNoInfo.width+",height="+e.winNoInfo.height+e.base,e.winHasInfo.param="top="+e.winHasInfo.top+",left="+e.winHasInfo.left+",width="+e.winHasInfo.width+",height="+e.winHasInfo.height+e.base,util.isMobilePlatform()&&(cache.winType=3),cache.winType){case 1:winParam=cache.corpInfo?e.layerHasInfo:e.layerNoInfo,winParam.type="layer";break;case 3:winParam={type:"url",param:""};break;default:winParam=cache.corpInfo?e.winHasInfo:e.winNoInfo,winParam.type="win"}},createDvcTimer=function(){var t=localStorage.getItem("YSFDVC-"+cache.device),e=0;null!=t&&(e=Number(t)+1),localStorage.setItem("YSFDVC-"+cache.device,e),cache.dvctimer=e};ysf.style=function(t){if(t){var e=document.getElementsByTagName("head")[0]||document.body,n=document.createElement("style");n.type="text/css",e.appendChild(n),"textContent"in n?n.textContent=t:n.styleSheet&&(n.styleSheet.cssText=t)}},ysf.openInline=function(t,e){var n=ysf.url.apply(ysf);if(n){n=util.mergeUrl(n,{w:cache.winType});var i=function(t){var e=document.createElement("iframe");return e.src=t,e.id="YSF-IFRAME-LAYER",e.style.width="100%",e.style.height="100%",e};chatProxy=i(n),t.appendChild(chatProxy),util.addEvent(chatProxy,"load",function(){1==e?sendChatMsg("doconnect",{doconnect:1}):0==e&&1==cache.pushswitch&&sendChatMsg("dopushmsg",{pushMsgSwitch:1,pushMsgId:cache.pushmsgid})})}},ysf.entry=function(t){var e=function(){var e=document.createElement("div"),n="YSF-CUSTOM-ENTRY-"+window.__YSFTHEMELAYEROUT__;return window.__YSFTHEMELAYEROUT__&&(e.className="layer-"+window.__YSFTHEMELAYEROUT__),e.setAttribute("id","YSF-BTN-HOLDER"),1==cache.hidden&&(e.style.display="none"),document.body.appendChild(e),e.onclick=function(){ysf.open()},e.innerHTML='<div id="'+n+'"><img src="'+t.src+'"/></div>',e},n=function(t){var e=document.createElement("span");e.setAttribute("id","YSF-BTN-CIRCLE"),t.appendChild(e)},i=function(t){var e=document.createElement("div"),n=document.createElement("div"),i=document.createElement("span"),o=document.createElement("span");e.setAttribute("id","YSF-BTN-BUBBLE"),n.setAttribute("id","YSF-BTN-CONTENT"),i.setAttribute("id","YSF-BTN-ARROW"),o.setAttribute("id","YSF-BTN-CLOSE"),o.onclick=function(t){t.stopPropagation(),t.preventDefault(),ysf.NotifyMsgAndBubble({category:"clearCircle"})},t.appendChild(e),e.appendChild(n),e.appendChild(i),e.appendChild(o)},o=e();n(o),i(o)},ysf.entryPanel=function(t){var e=document.createElement("div"),n=1==cache.winType?0:1;parseInt(t)?e.setAttribute("id","YSF-PANEL-CORPINFO"):e.setAttribute("id","YSF-PANEL-INFO"),e.className="ysf-chat-layer",document.body.appendChild(e),e.setAttribute("data-switch",n);try{sendChatMsg("status",{layerOpen:n})}catch(i){}createDvcTimer(),ysf.openInline(e,cache.dvcswitch)},ysf.invite=function(){var t,e,n,i=document.createDocumentFragment(),o=function(){if(!t||!e){t=document.createElement("div"),t.className="ysf-online-invite-mask",e=document.createElement("div"),e.className="ysf-online-invite-wrap",e.innerHTML='<div class="ysf-online-invite"><div class="text"></div><div class="close" title="关闭"></div><img/></div>';var i=e.childNodes[0],o=i.childNodes,a=o[0];"innerText"in a?a.innerText=n.text:a.textContent=n.text,i.onclick=r,o[1].onclick=l,o[2].onload=function(){window.setTimeout(s,100)}}},a=function(t){e.getElementsByTagName("IMG")[0].src=t},s=function(){e.childNodes[0];e.style.visibility="visible"},r=function(){ysf.open(),c()},l=function(e){e=e||window.event||{},e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,t.parentNode!=i&&c(),0!=n.reject&&window.setTimeout(d,1e3*n.interval)},c=function(){i.appendChild(e),a(ysf.RESROOT+"res/nej_blank.gif")},d=function(){+new Date-(cache.timestamp||0);o(),e.style.visibility="hidden",document.body.appendChild(e),a(n.src)};return function(t){n||(n=t||{});var e=function(){window.setTimeout(d,1e3*(n.timeout||0))};n.ignore||cache.timestamp?e():cache.onackdone=e}}(),ysf.openLayer=function(){return function(t,e){var n=document.getElementById("YSF-PANEL-CORPINFO")||document.getElementById("YSF-PANEL-INFO"),i=document.getElementById("YSF-BTN-HOLDER");if(n){i.style.display="none",n.className="ysf-chat-layer ysf-chat-layeropen",n.setAttribute("data-switch",1);try{sendChatMsg("status",{layerOpen:1})}catch(o){}}}}(),ysf.openWin=function(){return function(t,e){window.open(t,"YSF_SERVICE_"+(cache.appKey||"").toUpperCase(),e.param)}}(),ysf.openUrl=function(){return function(t,e){window.open(t,"YSF_SERVICE_"+(cache.appKey||"").toUpperCase(),e.param)}}(),ysf.NotifyMsgAndBubble=function(t){var e={clearCircle:function(t){var e="YSF-"+device()+"-MSGNUMBERS",n=document.getElementById("YSF-BTN-CIRCLE"),i=document.getElementById("YSF-BTN-BUBBLE");i.style.display="none",n.style.display="none",localStorage.setItem(e,0),cache.notifyNumber=0,cache.notifyContent="",CircleNumberFlag=0},notifyCircle:function(t){var e="YSF-"+device()+"-MSGNUMBERS";localStorage.setItem(e,t.data.circleNum);var n=document.getElementById("YSF-BTN-BUBBLE"),i=document.getElementById("YSF-BTN-CONTENT"),o=document.getElementById("YSF-BTN-CIRCLE"),a=document.getElementById("YSF-PANEL-CORPINFO")||document.getElementById("YSF-PANEL-INFO"),s={image:function(t){return"[图片]"},audio:function(t){return"[音频]"},file:function(t){return"[文件]"+t.name},text:function(t){return t}};0==a.getAttribute("data-switch")&&s[t.data.type]&&0==cache.sdkCustom&&(o.style.display="block",n.style.display="block",o.innerHTML=t.data.circleNum>99?"99+":t.data.circleNum,i.innerHTML=s[t.data.type](t.data.notifyCnt))}},n=e[t.category];n&&n(t)},ysf.getUnreadMsg=function(){return{type:cache.notifyContent.type,message:cache.notifyContent.content,total:cache.notifyNumber}},ysf.config=function(t){t&&(merge(t),cache.appKey&&(refresh(t.uid),visit(),syncProfile(),t.bid?initWinConfigTrade():initWinConfig()))},ysf.configTrade=function(t){t&&(merge(t),cache.appKey&&(refresh(t.uid),visit(),syncProfile(),initWinConfig()))},ysf.url=function(t){if(!cache.appKey)return"";var e={k:cache.appKey,u:device(),gid:cache.groupid||0,sid:cache.staffid||0,qtype:cache.qtype||0,dvctimer:cache.dvctimer||0,robotShuntSwitch:cache.robotShuntSwitch||0};return cache.bid&&(e.bid=cache.bid),each({n:"name",e:"email",m:"mobile"},function(t,n){var i=cache[n];i&&(e[t]=i)}),e.t=encodeURIComponent(document.title),t?ysf.IMROOT+"/trade?"+serialize(e):ysf.IMROOT+"?"+serialize(e)},ysf.logoff=function(){updateDevice(),util.clearLocalItems(util.findLocalItems(/msgnumbers/gi))},ysf.openByLink=function(t){var e=ysf.url();if(e){t=t||{};var n=t.target||t.srcElement;n&&"A"==n.tagName&&(n.href=e)}},ysf.product=function(){var t=function(t){return t.title=t.title&&t.title.length>100?t.title.slice(0,100):t.title,t.desc=t.desc&&t.desc.length>300?t.desc.slice(0,300):t.desc,t.note=t.note&&t.note.length>100?t.note.slice(0,100):t.note,t};return function(e){e=t(e),cache.bid&&(e.bid=cache.bid),syncCustomProfile(e)}}(),ysf.open=function(){if(cache.bid)var t=ysf.url.apply(ysf,[!0]);else var t=ysf.url.apply(ysf);if(t)switch(winParam.type){case"win":ysf.openWin(t,winParam);break;case"layer":ysf.openLayer(t,winParam);try{firstBtnClick&&0==cache.dvcswitch&&0==cache.pushswitch&&(sendChatMsg("doconnect",{doconnect:1}),firstBtnClick=!1)}catch(e){}(0==cache.dvcswitch&&1==cache.pushswitch||CircleNumberFlag>0)&&(sendChatMsg("dopushmsgread",{ids:msgSessionIds}),msgSessionIds=[]),ysf.NotifyMsgAndBubble({category:"clearCircle"});break;case"url":ysf.openUrl(t,winParam)}},ysf.openTrade=function(){var t=ysf.url.apply(ysf,[!0]);if(t)switch(winParam.type){case"win":ysf.openWin(t,winParam);break;case"url":ysf.openUrl(t,winParam)}},!function(){each({DOMAIN:ysf.ROOT+"/",IMROOT:function(){var t=1==window.__YSFWINTYPE__?ysf.ROOT+"/client/iframe":ysf.ROOT+"/client";return util.isMobilePlatform()&&(t=ysf.ROOT+"/client"),t}(),RESROOT:ysf.ROOT+"/sdk/"},function(t,e){null==ysf[t]&&(ysf[t]=e)}),migrate(),buildProxy()}(),ysf.init=function(t){var e=function(){ysf.entry({src:t}),1==cache.winType&&ysf.entryPanel(cache.corpInfo)};1==window.__YSFWINTYPE__?setTimeout(function(){util.ajax({url:ysf.DOMAIN+"webapi/user/dvcSession.action?k="+cache.appKey+"&d="+cache.device+"&f="+cache.uid,type:"post",success:function(t){200==t.code?(cache.dvcswitch=t.result.dvcSwitch,cache.pushswitch=t.result.pushSwitch||0,cache.pushmsgid=t.result.batchIdList||0,e()):(cache.dvcswitch=0,cache.pushswitch=0,e())},error:function(){cache.dvcswitch=0,cache.pushswitch=0,e()}})},1e3):(cache.dvcswitch=0,cache.pushswitch=0,e())},util.addEvent(window,"beforeunload",function(){var t="YSFDVC-"+cache.device,e="YSFMSG-"+cache.appKey,n=Number(localStorage.getItem(t));n>0&&localStorage.setItem(t,--n),util.clearLocalItems(util.findLocalItems(new RegExp(e,"ig")))}),ysf.on=function(){var t={onload:"load",unread:1};return function(e){var n=Object.prototype.toString.call(e).slice(8,-1);if(/object/gi.test(n))for(var i in e)"onload"==i&&util.isFunction(e[i])?util.addEvent(proxy,t[i],e[i]):util.isFunction(ysf[i])&&util.isFunction(e[i])&&(ysf["_"+i]=e[i]);else console.warn("波比(｡･∀･)ﾉ: 请保持正确的监听姿势...")}}(),ysf.getPushMessage=function(t){sendChatMsg("dogetpushmsg",{ids:t})},ysf._unread=function(){},ysf.unread=function(){return{type:cache.notifyContent.type,message:cache.notifyContent.content,total:cache.notifyNumber}},ysf.clearDragresize=function(t){try{var e=window.location.hostname.split(".")[0],n=["callcenter","session","qualitysession","qualitycallsession","worksheet","callflow","leave","monitor","usercenter"];if(n.indexOf(t)>-1)util.clearLocalItems(util.findLocalItems(new RegExp(e+"-"+t,"ig")));else for(var i=0;i<n.length;i++)util.clearLocalItems(util.findLocalItems(new RegExp(e+"-"+n[i],"ig")))}catch(o){}}}();var __YSFOPTION__={corpInfo:Number("0"),winType:Number("2"),sdkCustom:0,hidden:1,appKey:"bbf1f358fbe2baf496d7d57ff885bbd8"};__YSFOPTION__.uid=localStorage.getItem("YSF-"+__YSFOPTION__.appKey.toUpperCase()+"-UID")||"";try{__YSFOPTION__.profile=JSON.stringify(__YSFOPTION__.profile)}catch(ex){__YSFOPTION__.profile=""}__YSFOPTION__.imgSrc="https://qiyukf.com/sdk/res/kefu/custom/3.png",ysf.config(__YSFOPTION__),ysf.style(["#YSF-BTN-HOLDER{position: fixed;max-width:70px;max-height:70px;right: 30px; bottom: 0px; cursor: pointer; overflow: visible; filter: alpha(opacity=100);opacity:1;z-index: 9990}","#YSF-BTN-HOLDER:hover{filter: alpha(opacity=95);opacity:.95}","#YSF-BTN-HOLDER img{ display: block;overflow: hidden; }","#YSF-BTN-CIRCLE{display: none;position: absolute;right: -5px;top: -5px;width: auto;min-width: 12px;height: 20px;padding: 0 4px;background-color: #f00;font-size: 12px;line-height: 20px;color: #fff;text-align: center;white-space: nowrap;font-family: sans-serif;border-radius: 10px;z-index:1;}","#YSF-BTN-HOLDER.layer-1 #YSF-BTN-CIRCLE{top: -30px;}","#YSF-BTN-HOLDER.layer-2 #YSF-BTN-CIRCLE{top: -30px;}","#YSF-BTN-HOLDER.layer-3 #YSF-BTN-CIRCLE{top: -30px;}","#YSF-BTN-HOLDER.layer-4 #YSF-BTN-CIRCLE{top: -30px;}","#YSF-BTN-HOLDER.layer-5 #YSF-BTN-CIRCLE{top: -30px;}","#YSF-BTN-HOLDER.layer-6 #YSF-BTN-CIRCLE{top: -5px;}","#YSF-BTN-BUBBLE{display: none;position: absolute;left: -274px;bottom:0px;width: 278px;height: 80px;box-sizing: border-box;padding: 14px 22px;filter: alpha(opacity=100);opacity:1;background: url(https://qiyukf.com/sdk//res/img/sdk/bg_floatMsg2x.png) no-repeat;background:url(https://qiyukf.com/sdk//res/img/sdk/bg_floatMsg.png)9; background-size: 278px 80px; z-index: 1;}","#YSF-BTN-HOLDER.layer-1 #YSF-BTN-BUBBLE{bottom:9px;}","#YSF-BTN-HOLDER.layer-2 #YSF-BTN-BUBBLE{bottom:9px;}","#YSF-BTN-HOLDER.layer-3 #YSF-BTN-BUBBLE{bottom:9px;}","#YSF-BTN-HOLDER.layer-4 #YSF-BTN-BUBBLE{bottom:9px;}","#YSF-BTN-HOLDER.layer-5 #YSF-BTN-BUBBLE{bottom:9px;}","#YSF-BTN-HOLDER.layer-6 #YSF-BTN-BUBBLE{bottom:-6px;}","#YSF-BTN-BUBBLE:hover{filter: alpha(opacity=95);opacity:.95}","#YSF-BTN-CONTENT{height:45px;padding: 0;white-space: normal;word-break: break-all;text-align: left;font-size: 14px;line-height: 1.6;color: #222;overflow: hidden;z-index: 0;}","#YSF-BTN-ARROW{ display: none; }","#YSF-BTN-CLOSE{position: absolute; width:15px; height:15px;right: 4px;top: -3px; filter: alpha(opacity=90); opacity:.9; cursor: pointer; background: url(https://qiyukf.com/sdk//res/img/sdk/btn-close.png) no-repeat;z-index: 1}","#YSF-BTN-CLOSE:hover{filter: alpha(opacity=100); opacity: 1;}","#YSF-PANEL-CORPINFO.ysf-chat-layeropen{ width: 511px; height: 470px; box-shadow: 0 0 20px 0 rgba(0, 0, 0, .15);}","#YSF-PANEL-CORPINFO{ position: fixed; bottom: 0px; right: 20px; width: 0; height: 0; z-index: 99999; }","#YSF-PANEL-INFO.ysf-chat-layeropen{ width: 311px; height: 470px; filter: alpha(opacity=100);opacity:1; box-shadow: 0 0 20px 0 rgba(0, 0, 0, .15);}","#YSF-PANEL-INFO{ position: fixed; bottom: 0px; right: 20px; width: 0px; height: 0px; filter: alpha(opacity=0);opacity:0;z-index: 99999;}","#YSF-PANEL-INFO .u-btn{background-color: #F96868}","#YSF-CUSTOM-ENTRY{background-color: #F96868;}","#YSF-CUSTOM-ENTRY-0{position: relative;bottom: 24px;width:auto;background-color: #F96868;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);}","#YSF-CUSTOM-ENTRY-1{position: relative;bottom: 24px;width:auto;background-color: #F96868;border-radius: 14px; box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);}","#YSF-CUSTOM-ENTRY-2{position: relative;bottom: 24px;width:auto;background-color: #F96868;border-radius: 0;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);}","#YSF-CUSTOM-ENTRY-3{position: relative;bottom: 24px;width:auto;background-color: #F96868;border-radius: 50%;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);}","#YSF-CUSTOM-ENTRY-4{position: relative;bottom: 24px;width:auto;background-color: #F96868;border-radius: 50%;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);}","#YSF-CUSTOM-ENTRY-5{position: relative;bottom: 24px;width:auto;background-color: #F96868;border-radius: 5px;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);}","#YSF-CUSTOM-ENTRY-6{position: relative;bottom: 0px;width:auto;background-color: #F96868;border-radius:5px;border-bottom-left-radius: 0;border-bottom-right-radius: 0;}","#YSF-CUSTOM-ENTRY-0 img{max-width: 300px;height:auto;}","#YSF-CUSTOM-ENTRY-1 img{width:28px;height:auto;}","#YSF-CUSTOM-ENTRY-2 img{width:58px;height:auto;}","#YSF-CUSTOM-ENTRY-3 img{width:60px;height:auto;}","#YSF-CUSTOM-ENTRY-4 img{width:60px;height:auto;}","#YSF-CUSTOM-ENTRY-5 img{width:60px;height:auto;}","#YSF-CUSTOM-ENTRY-6 img{width:115px;height:auto;}","#YSF-IFRAME-LAYER{ border:0; outline:none; }",'.ysf-online-invite-mask{z-index:10000;position:fixed;_position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;background:#fff;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=0);opacity:0;}',".ysf-online-invite-wrap{z-index:10001;position:fixed;_position:absolute;top:50%;left:50%;width:250px;}",".ysf-online-invite{position:relative;top:-50%;left:-50%;cursor:pointer;}",".ysf-online-invite img{display:block;width:250px;}",'.ysf-online-invite .text{position:absolute;top:-11px;left:0;right:0;overflow:hidden;margin: 36px 20px 0 67px;line-height:140%;color:#526069;font-size:14px;font-family:"Microsoft YaHei","微软雅黑",tahoma,arial,simsun,"宋体";text-align:left;white-space:normal;word-wrap:break-word;}',".ysf-online-invite .close{position:absolute;top:-6px;right:-6px;width:32px;height:32px;background:url(https://qiyukf.com/sdk/res/img/invite-close.png) no-repeat;cursor:pointer;}"].join(" ")),ysf.init("https://qiyukf.com/sdk/res/kefu/custom/3.png")}),define("module/common/utils",["../../lib/dot/dot.mod"],function(t,e,n){function i(t){t+="";for(var e=/(-?\d+)(\d{3})/;e.test(t);)t=t.replace(e,"$1,$2");return t}function o(t){var e=t.toString().replace(/^(\d*)$/,"$1.");e=(e+"00").replace(/(\d*\.\d\d)\d*/,"$1"),e=e.replace(".",",");for(var n=/(\d)(\d{3},)/;n.test(e);)e=e.replace(n,"$1,$2");return e=e.replace(/,(\d\d)$/,".$1"),e=e.replace(/^\./,"0.")}function a(){var t=window.location.search;return this.param2Obj(t,!0)}function s(){var t=window.location.search;return this.param2Obj(t)}function r(t,e){var n={};if(null!=t&&void 0!=t&&""!=t){t=t.replace(/\?/,"");for(var i=t.split("&"),o=0;o<i.length;o++){var a=i[o],s=a.indexOf("=");if(s!=-1){var r=a.substring(0,s),l="";s!=a.length-1&&(l=a.substring(s+1)),e?n[r]=decodeURIComponent(l):n[r]=l}else n[a]=""}}return n}function l(t,e){var n="";for(var i in t)n+=e?"&"+i+"="+encodeURIComponent(t[i]):"&"+i+"="+t[i];return""!=n&&(n=n.substring(1,n.length)),n}function c(t,e){return"function"==typeof t?t(e):g&&"function"==typeof g.template?g.template(t)(e):(console.log("请加载dot.js或dot.mod.js！"),"")}function d(t){var e=document.createElement("b");return e.innerHTML="<!--[if IE "+t+"]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}function u(t,e,n){if("--"==t)return"--";if(t&&"null"!=t||(t="0"),/,/g.test(t)){var i=t.split(".");return t="00"==i[1]?i[0]:t}t=""+t;var o="",a=/(\d)(?=(\d{3})+(?!\d))/g,s=function(t,e){var n=(""+t).split("."),i=0;if(2==n.length?i=(n[1]+"").replace(/,/g,"").length:t+=".",i<e)for(var o=i;o<e;o++)t+="0";return t};if(e===!1)return o=t.replace(a,"$1,");var r=e===!0?2:e;if(e||0==e){if(n===!0)o=(1*t).toFixed(r).replace(a,"$1,");else{var l=new RegExp("(\\d*\\.\\d{"+r+"})\\d*");t=t.replace(l,"$1"),o=t.replace(a,"$1,")}return s(o,r)}t=s(t.replace(/(\d*\.\d{2})\d*/,"$1"),2);var i=t.split(".");return t="00"==i[1]?i[0]:t,o=t.replace(a,"$1,")}function f(t,e,n){/-/g.test(""+t)&&(t=(""+t).replace(/-/g,"/"));var i=new Date(/\//g.test(t)?t:Number(t));e||(e="yyyy-MM-dd HH:mm:ss");var o={"M+":i.getMonth()<9?(0==n?"":"0")+(i.getMonth()+1):i.getMonth()+1,"d+":i.getDate()<10?(0==n?"":"0")+i.getDate():i.getDate(),"h+":i.getHours()%12===0?12:i.getHours()%12,"H+":i.getHours()<10?(0==n?"":"0")+i.getHours():i.getHours(),"m+":i.getMinutes()<10?(0==n?"":"0")+i.getMinutes():i.getMinutes(),"s+":i.getSeconds()<10?(0==n?"":"0")+i.getSeconds():i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()<10?(0==n?"":"0")+i.getMilliseconds():i.getMilliseconds()},a={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+a[i.getDay()+""]));for(var s in o)new RegExp("("+s+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[s]:((0==n?" ":"00")+o[s]).substr((""+o[s]).length)));return e}function p(t,e){var n=$.extend({title:"提示",btnText:"确定",iconStyle:"",hideClose:!1,callback:null},e);return new m({text:t,title:n.title,iconStyle:n.iconStyle,hideClose:n.hideClose,btns:[{text:n.btnText,onClick:function(){this.hide(),n.callback&&n.callback.call(this)}}]}).show()}function h(t,e,n,i,o){return new m({text:t,title:e,iconStyle:o||"ques",btns:[{text:"确定",onClick:n},{text:"取消",onClick:function(){this.hide(),i&&i.call(this)}}]}).show()}function m(t){this.opt=$.extend({text:"",title:"提示",btns:[],onClose:$.noop,hideClose:!1,iconStyle:""},t),this.defaultBtnOpt={text:"确定",onClick:function(){this.hide()}},this.init()}var g=t("../../lib/dot/dot.mod");return m.prototype.classNames={overlay:"box-overlay",dialog:"box-dialog",title:"box-dialog-title js_title",close:"box-dialog-close js_close",content:"box-dialog-content js_content",btns:"box-dialog-btns js_btns"},m.prototype.init=function(){var t=this,e=this.classNames;this.$modal=$('<div class="'+e.overlay+'" style="display:none;"></div>');var n="";return n+='<div class="'+e.dialog+'" style="display:none;">',n+='<div class="'+e.title+'"></div>',n+='<div class="'+e.close+'" title="关闭(esc键)">×</div>',n+='<div class="'+e.content+'"></div>',n+='<div class="'+e.btns+'"></div>',n+="</div>",this.$box=$(n),this.$title=$(".js_title",this.$box),this.$close=$(".js_close",this.$box),this.$content=$(".js_content",this.$box),this.$btns=$(".js_btns",this.$box),this.$close.click(function(){t.hide()}),$("body").append(this.$modal.add(this.$box)),this},m.prototype.refresh=function(){var t=this,e={right:"box-right",wrong:"box-wrong",ques:"box-ques",warn:"box-warn",info:"box-info"};this.$title.html(this.opt.title);var n=this.classNames.content+" "+(e[this.opt.iconStyle]||"");this.$content.html(this.opt.text).attr("class",n),this.$close.toggle(!this.opt.hideClose);var i,o,a,s,r;for(i=0,o=this.opt.btns.length;i<o;i++)a=$.extend({},this.defaultBtnOpt,this.opt.btns[i]),o>1?(r=0==i?"":" sub",s=$('<button class="'+r+'">'+a.text+"</button>")):s=$("<button>"+a.text+"</button>"),function(e){s.click(function(){e.onClick&&e.onClick.call(t)})}(a),this.$btns.append(s);var l=this.$box.width(),c=this.$box.height(),d="-"+c/2+"px 0 0 -"+l/2+"px";return this.$box.css("margin",d),this},m.prototype.show=function(){return this.refresh(),this.$modal.show(),this.$box.show(),this},m.prototype.hide=function(){return this.$modal.remove(),this.$box.remove(),this},{commafy:i,contUn:o,getQueryStrObj:a,getQueryStringObj:s,param2Obj:r,obj2Param:l,dot:c,isIE:d,milliFormat:u,formatTime:f,alertInfo:p,confirmInfo:h,Box:m}}),define("lib/dot/dot.mod",[],function(t,e,n){"use strict";function i(t,e,n){return("string"==typeof e?e:e.toString()).replace(t.define||l,function(e,i,o,a){return 0===i.indexOf("def.")&&(i=i.substring(4)),i in n||(":"===o?(t.defineParams&&a.replace(t.defineParams,function(t,e,o){n[i]={arg:e,text:o}}),i in n||(n[i]=a)):new Function("def","def['"+i+"']="+a)(n)),""}).replace(t.use||l,function(e,o){t.useParams&&(o=o.replace(t.useParams,function(t,e,i,o){if(n[i]&&n[i].arg&&o){var a=(i+":"+o).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[a]=n[i].text.replace(new RegExp("(^|[^\\w$])"+n[i].arg+"([^\\w$])","g"),"$1"+o+"$2"),e+"def.__exp['"+a+"']"}}));var a=new Function("def","return "+o)(n);return a?i(t,a,n):a})}function o(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var a,s={name:"doT",version:"1.1.1",templateSettings:{evaluate:/\<\$([\s\S]+?(\}?)+)\$\>/g,interpolate:/\<\$=([\s\S]+?)\$\>/g,encode:/\<\$!([\s\S]+?)\$\>/g,use:/\<\$#([\s\S]+?)\$\>/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\<\$##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\$\>/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\<\$\?(\?)?\s*([\s\S]*?)\s*\$\>/g,iterate:/\<\$~\s*(?:\$\>|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\$\>)/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};s.encodeHTMLSource=function(t){var e={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=t?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(t){return t?t.toString().replace(n,function(t){return e[t]||t}):""}};var r={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},l=/$^/;return s.template=function(t,e,n){e=e||s.templateSettings;var c,d,u=e.append?r.append:r.split,f=0,p=e.use||e.define?i(e,t,n||{}):t;p=("var out='"+(e.strip?p.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):p).replace(/'|\\/g,"\\$&").replace(e.interpolate||l,function(t,e){return u.start+o(e)+u.end}).replace(e.encode||l,function(t,e){
return c=!0,u.startencode+o(e)+u.end}).replace(e.conditional||l,function(t,e,n){return e?n?"';}else if("+o(n)+"){out+='":"';}else{out+='":n?"';if("+o(n)+"){out+='":"';}out+='"}).replace(e.iterate||l,function(t,e,n,i){return e?(f+=1,d=i||"i"+f,e=o(e),"';var arr"+f+"="+e+";if(arr"+f+"){var "+n+","+d+"=-1,l"+f+"=arr"+f+".length-1;while("+d+"<l"+f+"){"+n+"=arr"+f+"["+d+"+=1];out+='"):"';} } out+='"}).replace(e.evaluate||l,function(t,e){return"';"+o(e)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),c&&(e.selfcontained||!a||a._encodeHTML||(a._encodeHTML=s.encodeHTMLSource(e.doNotSkipEncoded)),p="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+s.encodeHTMLSource.toString()+"("+(e.doNotSkipEncoded||"")+"));"+p);try{return new Function(e.varname,p)}catch(h){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+p),h}},s.compile=function(t,e){return s.template(t,null,e)},s}),define("module/common/toast",[],function(t,e,n){var i=function(){function t(t,i,r){var l=i||1500;t&&(a.innerHTML=t,document.body.appendChild(a),e(),o=r&&"function"==typeof r?r:void 0,a.style.margin="-"+Math.floor(a.clientHeight/2)+"px 0 0 -"+Math.floor(a.clientWidth/2)+"px",a.style.visibility="visible","loading"!==i&&(s=setTimeout(n,l)))}function e(){s&&clearTimeout(s)}function n(){e(),r?a.removeNode(!0):a.remove(a.selectedIndex),o&&o()}function i(e,n){var i=n||1e4;t(e,"loading"),s=setTimeout(function(){t("网络繁忙",2500)},i)}var o,a=document.createElement("div"),s=0,r="Microsoft Internet Explorer"==navigator.appName;return a.className="_toast",a.style.position="fixed",a.style.zIndex="9999",a.style.top="50%",a.style.left="50%",a.style.padding="8px 15px",a.style.minWidth="56px",a.style.lineHeight="18px",a.style.background="#333",a.style.color="#fff",a.style.fontSize="12px",a.style.borderRadius="20px",a.style.textAlign="center",a.style.visibility="hidden",{tip:t,close:n,loading:i}}();return i});